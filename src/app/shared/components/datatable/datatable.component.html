<div class="datatable_wrapper">
  <div class="row">
    <div class="col-sm-12 col-md-6">
      <label
        >Mostrar
        <select
          class="custom-select custom-select-sm form-control form-control-sm"
          [(ngModel)]="numbersRegister"
          (click)="changeLengthRegisters.emit(numbersRegister)"
        >
          <option>10</option>
          <option>25</option>
          <option>50</option>
          <option>100</option>
        </select>
        registros
      </label>
    </div>
    <div class="col-sm-12 col-md-6" [formGroup]="form">
      <label
        >Buscar

        <input
          type="search"
          class="form-control form-control-sm"
          formControlName="filter"
        />
      </label>
    </div>
  </div>

  <div class="row">
    <div class="col-12">
      <table
        class="table table-striped table-hover dt-responsive nowrap"
        style="border-collapse: collapse; border-spacing: 0; width: 100%"
      >
        <thead>
          <tr class="bg-info text-white text-uppercase">
            <th *ngFor="let column of columns">
              {{ column?.title != "action" ? column?.title : "" }}
            </th>
          </tr>
        </thead>

        <tbody>
          <tr *ngFor="let data of paginationData?.data">
            <td *ngFor="let column of columns" nowrap [ngSwitch]="column.name">
              <ng-container [ngSwitch]="column.name">
                <img
                  *ngSwitchCase="ColumnType.PHOTO"
                  [src]="data[column.name]"
                  style="width: 60px"
                />
                <span *ngSwitchCase="ColumnType.CREATED_AT">{{
                  data[column.name] | date: "dd/MM/yyyy"
                }}</span>

                <span *ngSwitchCase="ColumnType.ACTION">
                  <div class="btn-group" role="group" ngbDropdown>
                    <button
                      type="button"
                      class="btn btn-primary dropdown-toggle"
                      tabindex="0"
                      role="button"
                      ngbDropdownToggle
                      id="dropdownAction"
                    >
                      <i class="mdi mdi-dots-vertical"></i>
                    </button>
                    <div
                      class="dropdown-menu"
                      aria-labelledby="dropdownAction"
                      ngbDropdownMenu
                    >
                      <a
                        ngbDropdownItem
                        class="dropdown-item"
                        *ngFor="let action of column.actions"
                        style="cursor: pointer"
                        (click)="
                          actionEvent.emit({
                            function: action.function,
                            params: getParams(action.params, data)
                          })
                        "
                      >
                        <i [ngClass]="action.icon"></i> {{ action?.title }}
                      </a>
                      <!-- <a
                        ngbDropdownItem
                        class="dropdown-item"
                        href="#"
                        data-toggle="modal"
                        data-target="#cad-admin"
                        ><i class="mdi mdi-pen"></i> Editar</a
                      > -->
                      <!-- <a class="dropdown-item" href="#" ngbDropdownItem
                        ><i class="mdi mdi-shield-lock-outline"></i> Bloquear</a
                      > -->
                    </div>
                  </div>
                </span>

                <span *ngSwitchDefault>
                  {{ getColumnValue(data, column.name) }}</span
                >
              </ng-container>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div class="row">
    <div class="col-sm-12 col-md-5">
      Mostrando {{ paginationData?.from }} de {{ paginationData?.to }} para
      {{ paginationData?.total }} registros
    </div>
    <div class="col-sm-12 col-md-7">
      <ul class="pagination">
        <li
          class="page-item previous"
          [class.disabled]="paginationData?.current_page <= 1"
        >
          <a
            class="page-link"
            (click)="changePage.emit(paginationData?.current_page - 1)"
            >Anterior</a
          >
        </li>
        <li
          class="page-item"
          *ngFor="let page of pagination()"
          [class.active]="paginationData?.current_page == page"
        >
          <a class="page-link" (click)="changePage.emit(page)">{{ page }}</a>
        </li>
        <li
          class="page-item next"
          [class.disabled]="
            paginationData?.current_page >= paginationData?.last_page
          "
        >
          <a
            class="page-link"
            (click)="changePage.emit(paginationData?.current_page + 1)"
            >Pr√≥ximo</a
          >
        </li>
      </ul>
    </div>
  </div>
</div>
